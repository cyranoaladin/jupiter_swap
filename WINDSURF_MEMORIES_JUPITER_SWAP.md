# üß† M√©moires Windsurf Cascade - Jupiter Swap DApp

## üìã Vue d'Ensemble des M√©moires

Les m√©moires Windsurf permettent de persister le contexte et les connaissances sp√©cifiques au projet Jupiter Swap. Ces m√©moires guident Cascade dans ses d√©cisions et am√©liorent la qualit√© des corrections et optimisations.

---

## üéØ M√©moires Fondamentales du Projet

### M√©moire 1 : Architecture du Projet Jupiter Swap

```markdown
**Titre** : Architecture et Structure Jupiter Swap DApp
**Type** : M√©moire Technique
**Contexte** : Projet Next.js 13+ avec TypeScript pour trading DeFi sur Solana

**Contenu** :
Le projet Jupiter Swap est une DApp de trading avanc√©e construite avec :
- Next.js 13+ avec App Router et TypeScript strict
- Architecture en services s√©par√©s (jupiter.ts, optimization.ts, solana.ts, swap.ts, rpc-manager.ts)
- Composants UI bas√©s sur shadcn/ui avec Tailwind CSS
- Gestion d'√©tat avec Zustand et React Query
- Int√©gration Jupiter API v6 pour les swaps
- Optimisations automatiques de slippage et priority fees
- R√©cup√©ration transparente des √©conomies r√©alis√©es
- Monitoring avec Sentry et analytics personnalis√©es

**Points Critiques** :
- Respecter la s√©paration des responsabilit√©s entre services
- Maintenir le typage TypeScript strict
- Pr√©server la logique d'optimisation dans optimization.ts
- Utiliser le RPC manager pour la r√©silience blockchain
- Impl√©menter la gestion d'erreurs robuste partout
```

### M√©moire 2 : Cahier des Charges et Exigences

```markdown
**Titre** : Exigences Fonctionnelles Jupiter Swap
**Type** : M√©moire M√©tier
**Contexte** : Sp√©cifications client pour l'interface de swap SOL/USDC

**Contenu** :
Fonctionnalit√©s OBLIGATOIRES √† impl√©menter :
1. Interface SOL/USDC bidirectionnelle (sol vers usdc ET usdc vers sol)
2. Transactions sur Solana mainnet exclusivement
3. Utilisation Jupiter API v6 pour tous les swaps
4. Affichage des soldes SOL et USDC √† la connexion wallet
5. Optimisation automatique des slippages et fees
6. R√©cup√©ration transparente des √©conomies dans un wallet d√©fini
7. Affichage des slippages et fees standards √† l'utilisateur
8. R√©duction invisible des co√ªts avec r√©cup√©ration de la diff√©rence

**Crit√®res de Succ√®s** :
- Application 100% fonctionnelle sans erreurs
- Conformit√© totale aux sp√©cifications
- Performance optimis√©e pour la production
- Interface utilisateur intuitive et responsive
- S√©curit√© blockchain valid√©e
```

### M√©moire 3 : Optimisations Sp√©cifiques Jupiter

```markdown
**Titre** : Algorithmes d'Optimisation Jupiter Swap
**Type** : M√©moire Technique
**Contexte** : Logique m√©tier pour les optimisations de trading

**Contenu** :
Impl√©mentation des optimisations avanc√©es :

**Dynamic Slippage** :
- Analyse des conditions de march√© en temps r√©el
- Calcul bas√© sur volatilit√©, liquidit√©, et spread
- R√©duction intelligente du slippage sans impact utilisateur
- Formule : optimizedSlippage = baseSlippage * (1 - optimizationFactor)

**Priority Fees Intelligents** :
- Analyse du r√©seau Solana en temps r√©el
- Calcul optimal pour confirmation rapide
- √âquilibrage co√ªt/vitesse automatique
- Monitoring des performances de confirmation

**R√©cup√©ration des √âconomies** :
- Calcul transparent des √©conomies r√©alis√©es
- Transfert automatique vers wallet de r√©cup√©ration
- Affichage des m√©triques √† l'utilisateur
- Historique d√©taill√© des optimisations

**Points d'Attention** :
- Ne jamais compromettre la s√©curit√© pour l'optimisation
- Maintenir la transparence totale avec l'utilisateur
- Valider toutes les transactions avant envoi
- Impl√©menter des fallbacks en cas d'√©chec d'optimisation
```

---

## üîß M√©moires Techniques Sp√©cialis√©es

### M√©moire 4 : Configuration Solana et RPC

```markdown
**Titre** : Configuration Blockchain Solana
**Type** : M√©moire Infrastructure
**Contexte** : Gestion des connexions RPC et interactions blockchain

**Contenu** :
Configuration RPC robuste avec fallback :
- Endpoint principal : Helius RPC avec cl√© API
- Fallbacks : Ankr, QuickNode, RPC public Solana
- Timeout : 30 secondes maximum par requ√™te
- Retry : 3 tentatives avec backoff exponentiel
- Health check : Monitoring continu des endpoints

**Gestion des Transactions** :
- Simulation obligatoire avant envoi
- Validation des montants et adresses
- Gestion des timeouts (120 secondes max)
- Retry intelligent en cas d'√©chec
- Logging d√©taill√© pour debugging

**Variables d'Environnement Critiques** :
- NEXT_PUBLIC_RPC_ENDPOINTS : Liste des endpoints RPC
- HELIUS_API_KEY : Cl√© API Helius pour RPC premium
- NEXT_PUBLIC_SOLANA_NETWORK : mainnet-beta obligatoire
- NEXT_PUBLIC_FEE_RECOVERY_WALLET : Wallet de r√©cup√©ration

**S√©curit√©** :
- Validation stricte de toutes les adresses
- V√©rification des montants avant transaction
- Protection contre les attaques de replay
- Chiffrement des donn√©es sensibles
```

### M√©moire 5 : Patterns de Gestion d'Erreurs

```markdown
**Titre** : Strat√©gies de Gestion d'Erreurs
**Type** : M√©moire Technique
**Contexte** : Approche unifi√©e pour la gestion des erreurs

**Contenu** :
Hi√©rarchie des erreurs impl√©ment√©e :
- BaseError : Classe de base avec contexte
- NetworkError : Erreurs de connectivit√©
- BlockchainError : Erreurs blockchain sp√©cifiques
- ValidationError : Erreurs de validation des donn√©es
- OptimizationError : Erreurs d'optimisation

**Strat√©gies de Retry** :
- Erreurs r√©seau : 3 tentatives avec backoff
- Erreurs RPC : Fallback automatique vers autre endpoint
- Erreurs de transaction : Retry avec fees ajust√©s
- Erreurs d'optimisation : Fallback vers mode standard

**Messages Utilisateur** :
- Erreurs techniques ‚Üí Messages utilisateur-friendly
- Contexte appropri√© sans d√©tails techniques
- Actions sugg√©r√©es pour r√©soudre le probl√®me
- Logging d√©taill√© c√¥t√© d√©veloppeur

**Error Boundaries** :
- Composant principal avec Error Boundary
- Fallback UI pour les erreurs critiques
- Reporting automatique vers Sentry
- R√©cup√©ration gracieuse quand possible
```

### M√©moire 6 : Standards de Qualit√© Code

```markdown
**Titre** : Standards de D√©veloppement Jupiter Swap
**Type** : M√©moire Qualit√©
**Contexte** : Conventions et bonnes pratiques du projet

**Contenu** :
**TypeScript** :
- Mode strict activ√© obligatoirement
- Types explicites pour toutes les fonctions publiques
- Interfaces pour tous les objets m√©tier
- √âviter 'any', utiliser 'unknown' si n√©cessaire
- Typage des props React avec interfaces

**Architecture des Composants** :
- Composants fonctionnels avec hooks
- forwardRef pour tous les composants UI
- Props typ√©es avec interfaces
- S√©paration logique/pr√©sentation
- R√©utilisabilit√© maximale

**Services et Logique M√©tier** :
- Classes avec m√©thodes statiques
- Interfaces pour tous les services
- Gestion d'erreurs syst√©matique
- Cache intelligent avec TTL
- Logging structur√©

**Performance** :
- React.memo pour composants co√ªteux
- useMemo/useCallback pour optimisations
- Code splitting par route
- Lazy loading des composants lourds
- Optimisation des bundles

**Tests** :
- Coverage minimum 80%
- Tests unitaires pour tous les services
- Tests d'int√©gration pour workflows
- Mocking des d√©pendances externes
- Tests de performance pour op√©rations critiques
```

---

## üé® M√©moires UI/UX et Design

### M√©moire 7 : Charte Graphique et Design System

```markdown
**Titre** : Design System Jupiter Swap
**Type** : M√©moire Design
**Contexte** : Charte graphique DeAura.io + Solana

**Contenu** :
**Palette de Couleurs** :
- Vert DeAura (#4ade80) : Couleur principale d'accent
- Violet Solana (#9945ff) : √âl√©ments blockchain
- Cyan DeAura (#22d3ee) : Accents secondaires
- Fonds sombres (#0a0f14, #1a202c) : Identit√© DeAura
- D√©grad√©s harmonieux combinant les deux identit√©s

**Typographie** :
- Font principale : Inter (identique DeAura.io)
- Hi√©rarchie claire : H1 (2.5rem), H2 (2rem), H3 (1.5rem)
- Corps de texte : 1rem avec line-height 1.6
- Code : JetBrains Mono pour les adresses et montants

**Composants UI** :
- Boutons avec variants (primary, secondary, ghost)
- Cards avec effets glow verts caract√©ristiques
- Inputs avec validation visuelle
- Animations fluides (200ms transitions)
- √âtats hover sophistiqu√©s

**Responsive Design** :
- Mobile-first approach
- Breakpoints : sm (640px), md (768px), lg (1024px), xl (1280px)
- Navigation adaptative sur mobile
- Touch-friendly sur tablettes

**Accessibilit√©** :
- Contraste WCAG AA minimum
- Support navigation clavier
- ARIA labels appropri√©s
- Focus visible sur tous les √©l√©ments interactifs
```

### M√©moire 8 : Patterns d'Interface Trading

```markdown
**Titre** : Patterns UX pour Interface de Trading
**Type** : M√©moire UX
**Contexte** : Exp√©rience utilisateur optimis√©e pour le trading DeFi

**Contenu** :
**Interface de Swap** :
- Layout en deux colonnes (input/output)
- Bouton de swap central avec animation
- Affichage temps r√©el des quotes
- M√©triques d'optimisation visibles
- Slippage et fees transparents

**Feedback Utilisateur** :
- Loading states pour toutes les op√©rations
- Progress indicators pour transactions
- Notifications toast pour succ√®s/erreurs
- Confirmations avant actions critiques
- Historique des transactions accessible

**Optimisations Visuelles** :
- Highlight des √©conomies r√©alis√©es
- Comparaison avant/apr√®s optimisation
- M√©triques de performance en temps r√©el
- Graphiques de tendance des prix
- Indicateurs de sant√© du r√©seau

**√âtats d'Erreur** :
- Messages d'erreur contextuels
- Actions de r√©cup√©ration sugg√©r√©es
- Retry automatique avec feedback
- Fallback gracieux en cas de probl√®me
- Support et aide facilement accessibles

**Mobile Experience** :
- Interface adapt√©e aux √©crans tactiles
- Gestures intuitifs pour navigation
- Optimisation pour connexions lentes
- Offline mode pour consultation
- PWA avec installation possible
```

---

## üîç M√©moires de Debugging et Maintenance

### M√©moire 9 : Strat√©gies de Debugging

```markdown
**Titre** : M√©thodologie de Debugging Jupiter Swap
**Type** : M√©moire Debug
**Contexte** : Approche syst√©matique pour identifier et r√©soudre les probl√®mes

**Contenu** :
**Analyse des Logs** :
- Console navigateur : Erreurs JavaScript/TypeScript
- Network tab : √âchecs d'API et timeouts
- Terminal dev : Erreurs de build et warnings
- Sentry : Erreurs production avec contexte
- RPC logs : Probl√®mes blockchain sp√©cifiques

**Outils de Debug** :
- React DevTools pour composants
- Redux DevTools pour √©tat global
- Network inspector pour APIs
- Performance profiler pour optimisations
- Lighthouse pour m√©triques web

**Probl√®mes Fr√©quents** :
- RPC timeout ‚Üí V√©rifier endpoints et fallbacks
- Transaction failed ‚Üí Analyser fees et slippage
- Wallet connection ‚Üí V√©rifier permissions et r√©seau
- Quote errors ‚Üí Valider tokens et montants
- UI freeze ‚Üí Identifier re-renders excessifs

**M√©thodologie** :
1. Reproduire le probl√®me de mani√®re consistante
2. Isoler la cause racine avec logs
3. Identifier l'impact et la criticit√©
4. Impl√©menter la correction minimale
5. Tester la correction et les r√©gressions
6. Documenter la solution pour r√©f√©rence future

**Monitoring Proactif** :
- Alertes automatiques pour erreurs critiques
- M√©triques de performance en temps r√©el
- Health checks des services externes
- Monitoring des taux de succ√®s des transactions
```

### M√©moire 10 : Proc√©dures de Maintenance

```markdown
**Titre** : Maintenance et √âvolution Jupiter Swap
**Type** : M√©moire Maintenance
**Contexte** : Proc√©dures pour maintenir et faire √©voluer l'application

**Contenu** :
**Maintenance Pr√©ventive** :
- Mise √† jour des d√©pendances (mensuelle)
- Audit de s√©curit√© (npm audit + Snyk)
- Nettoyage du cache et optimisation
- Backup des configurations critiques
- Test des endpoints RPC et APIs

**Monitoring Continu** :
- M√©triques de performance (Core Web Vitals)
- Taux d'erreur et disponibilit√©
- Volume de trading et √©conomies g√©n√©r√©es
- Satisfaction utilisateur et feedback
- √âvolution des co√ªts d'infrastructure

**√âvolutions Planifi√©es** :
- Nouveaux tokens support√©s
- Optimisations d'algorithmes
- Am√©liorations d'interface
- Int√©grations d'APIs suppl√©mentaires
- Fonctionnalit√©s avanc√©es de trading

**Proc√©dures d'Urgence** :
- Plan de rollback en cas de probl√®me critique
- Communication utilisateurs en cas d'incident
- Escalade vers les √©quipes techniques
- Activation des modes de maintenance
- Coordination avec les partenaires (Jupiter, RPC providers)

**Documentation** :
- Changelog d√©taill√© des modifications
- Guide de troubleshooting mis √† jour
- Documentation API pour int√©grations
- Runbooks pour les op√©rations courantes
- Formation des √©quipes de support
```

---

## üìä Utilisation des M√©moires dans Cascade

### Activation Automatique

Les m√©moires sont automatiquement activ√©es par Cascade quand :
- Le contexte correspond au domaine de la m√©moire
- Des mots-cl√©s sp√©cifiques sont d√©tect√©s
- Le type de probl√®me correspond √† une m√©moire existante

### Cr√©ation de Nouvelles M√©moires

```
# Demander √† Cascade de cr√©er une m√©moire
"Cascade, cr√©e une m√©moire de cette solution d'optimisation pour les futures r√©f√©rences"

# M√©moire automatique lors de r√©solution de probl√®me
Cascade d√©tecte automatiquement les solutions importantes et propose de les m√©moriser
```

### Consultation des M√©moires

```
# Lister les m√©moires disponibles
"Cascade, quelles m√©moires as-tu sur l'architecture Jupiter Swap ?"

# Utiliser une m√©moire sp√©cifique
"Cascade, utilise la m√©moire sur les patterns d'erreurs pour r√©soudre ce probl√®me"
```

---

## üéØ M√©moires de Validation et Qualit√©

### M√©moire 11 : Checklist de Production

```markdown
**Titre** : Crit√®res de Validation Production
**Type** : M√©moire Qualit√©
**Contexte** : Standards √† respecter avant mise en production

**Contenu** :
**Crit√®res Techniques** :
‚úÖ Lint : 0 erreur ESLint/Prettier
‚úÖ Build : Compilation r√©ussie sans warnings
‚úÖ Tests : Coverage > 80%, tous les tests passent
‚úÖ TypeScript : 0 erreur de typage
‚úÖ Performance : Lighthouse score > 90
‚úÖ S√©curit√© : npm audit clean, pas de secrets expos√©s
‚úÖ Bundle : Taille < 500KB, code splitting optimal

**Crit√®res Fonctionnels** :
‚úÖ Connexion wallet : Tous les wallets support√©s
‚úÖ Affichage soldes : SOL et USDC en temps r√©el
‚úÖ Swap bidirectionnel : SOL‚ÜíUSDC et USDC‚ÜíSOL
‚úÖ Optimisations : Slippage et fees optimis√©s
‚úÖ R√©cup√©ration : √âconomies transf√©r√©es correctement
‚úÖ Interface : Responsive et accessible
‚úÖ Erreurs : Gestion robuste et messages clairs

**Crit√®res de Production** :
‚úÖ Variables d'environnement : Toutes configur√©es
‚úÖ Monitoring : Sentry et analytics actifs
‚úÖ Documentation : README et guides √† jour
‚úÖ D√©ploiement : Process valid√© et test√©
‚úÖ Rollback : Proc√©dure de retour en arri√®re pr√™te
‚úÖ Support : √âquipe form√©e et proc√©dures d√©finies
```

Ces m√©moires constituent la base de connaissances de Windsurf pour le projet Jupiter Swap, garantissant une approche coh√©rente et professionnelle dans toutes les interventions.

